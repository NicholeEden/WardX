<!-- Requires a list of 'IMessageModel' models -->
@model List<IMessageModel>


@if (Model is null)
{
    <li class="nav-item dropdown">
        <a class="nav-link"
           data-toggle="dropdown"
           href="#">
            <i class="far fa-comments"></i>
            <span class="badge badge-secondary navbar-badge">0</span>
        </a>
        <!-- MESSAGES CONTAINER START -->
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <!-- MESSAGE FOOTER START -->
            <a href="#" class="dropdown-item dropdown-footer">No Messages Available</a>
            <!-- MESSAGE FOOTER END -->
        </div>
        <!-- MESSAGES CONTAINER END -->
    </li>
}
else
{
    <li class="nav-item dropdown">
        <a class="nav-link"
           data-toggle="dropdown"
           href="#">
            <i class="far fa-comments"></i>
            <span class="badge badge-danger navbar-badge">@Model.Count</span>
        </a>
        <!-- MESSAGES CONTAINER START -->
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <!-- MESSAGE START -->
            @foreach (var item in Model)
            {
                <!-- Each 'IMessageModel' will be displayed in a content section -->
                <a href="#" class="dropdown-item">
                    <div class="media">
                        <img src="~/img/lego-avatars/svg/001-lego.svg"
                             alt="User Avatar"
                             class="img-size-50 mr-3 img-circle">
                        <div class="media-body">
                            <h3 class="dropdown-item-title">
                                @item.SenderName
                                <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                            </h3>
                            <p class="text-sm">@item.MessageText</p>
                            <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i>@item.Time</p>
                        </div>
                    </div>
                </a>
                <div class="dropdown-divider"></div>
            }
            <!-- MESSAGE END -->
            <!-- MESSAGE FOOTER START -->
            <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
            <!-- MESSAGE FOOTER END -->
        </div>
        <!-- MESSAGES CONTAINER END -->
    </li>
}